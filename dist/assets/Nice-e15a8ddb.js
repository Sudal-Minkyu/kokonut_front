import{S as p,i as u,s as h,H as m,I as f,J as D,z as g}from"./index-86073da7.js";function w(n,r,s){let l;m(n,D,i=>s(0,l=i)),f(async()=>{setTimeout(()=>c(),1)});let t=new URLSearchParams(l),o=t.get("enc_data"),d=t.has("enc_data"),a=t.get("state");function c(){o!==null&&d===!0&&a!=="0"?g("v1","get","/v1/api/NiceId/redirect","param",{state:a,enc_data:o},"application/json",e=>{e.data.status===200?(alert("인증이 완료되었습니다."),a==="1"||a==="5"?opener.phoneCertCheck(a,e.data.sendData.joinName,e.data.sendData.joinPhone):opener.phoneCertCheck(a,e.data.sendData.keyEmail,e.data.sendData.authOtpKey)):alert(e.data.err_msg),window.close()},e=>{console.log(e),alert("서버 통신이 실패되었습니다."),window.close()}):(alert("본인인증 실패했습니다."),window.close())}return[]}class k extends p{constructor(r){super(),u(this,r,w,null,h,{})}}export{k as default};
